## Задание 1

>**Какие преимущества даёт подход IAC?**\
>*Ответьте на вопрос в свободной форме.*

## Выполнение

Подход IaC (Infrastructure as Code) повышает скорость и точность настройки серверов и рабочих станций, потому что вся настройка происходит в автоматическом режиме. Для настройки конкретного оборудования не нужен человек, который может допустить ошибку или что-нибудь забыть. Настроенные машины каждый раз настраиваются одинаково, как указанно в сценарии. Изменяя сценарий настройки (внося изменения) можно коллективно управлять всей инфраструктурой целиком. Так же в случае аварийной ситуации после сбоя можно быстро восстановить всю инфраструктуру.

---
## Задание 2

>**1. Установите Ansible.**\
>**2. Настройте управляемые виртуальные машины, не меньше двух.**\
>**3. Создайте файл inventory с созданными вами ВМ.**\
>**4. Проверьте доступность хостов с помощью модуля ping.**\
>*Выполните действия и приложите скриншоты действий.*

## Выполнение 

_1. Установка программы._
![Результат установки](https://github.com/artemtsybakov/netologyedu/blob/master/Automation_and_CI_CD/7_1/images/7-1.png)
_2. Для выполнения работы использовались ВМ в облаке Yandex. Для работы с ВМ на них был создан пользователь student. Добавлен ключь для подключения по SSH.\_
_3. Файл inventory в котором описаны созданные ВМ._
![Файл inventory](https://github.com/artemtsybakov/netologyedu/blob/master/Automation_and_CI_CD/7_1/images/7-2.png)
_4. Проверка доступности ВМ с помощью модуля ping._
![Модуль ping](https://github.com/artemtsybakov/netologyedu/blob/master/Automation_and_CI_CD/7_1/images/7-3.png)

---
## Задание 3

>**Какая разница между параметрами forks и serial?**\
>*Ответьте на вопрос в свободной форме.*

forks определяет количество компьютеров с которыми одновременно работает ansible.
serial делит все доступне для работы компьютеры на группы с определенным количеством и работает по очереди с этими группами. Работу с группами можно использовать как приоритет и разделить очередность выполнения сценариев.

## Выполнение

---
## Задание 4

>**В этом задании вы будете работать с Ad-hoc коммандами.**\
>**Установите на управляемых хостах любой пакет, которого нет.**\
>**Проверьте статус любого, присутствующего на управляемой машине, сервиса.**\
>**Создайте файл с содержимым «I like Linux» по пути /tmp/netology.txt.**\
>*Выполните действия и приложите скриншоты запуска команд.*

## Выполнение 
_Ad-hoc комманда использует инструмент командной строки /usr/bin/ansible для автоматизации одной задачи на одном или нескольких управляемых узлах.\
Использется модуль apt. Будет использоваться следующая команда. Установится пакет Nginx._
```
ansible 158.160.27.90 -u student -m apt -a "name=nginx state=present" --become
```
![Результат выполнения команды](https://github.com/artemtsybakov/netologyedu/blob/master/Automation_and_CI_CD/7_1/images/7-4.png)
_Используется модуль service. Что бы проверить установку, проверим запуск сервиса nginx._
```
ansible 158.160.27.90 -u student -m service -a 'name=nginx state=started' --check
```
![Проверка сервиса](https://github.com/artemtsybakov/netologyedu/blob/master/Automation_and_CI_CD/7_1/images/7-5.png)
![Проверка сервиса](https://github.com/artemtsybakov/netologyedu/blob/master/Automation_and_CI_CD/7_1/images/7-6.png)
_Используется модуль file. Создание файла по пути /tmp/netology.txt_ 
```
ansible 158.160.27.90 -u student -m file -a 'path=/tmp/netology.txt state=touch'
```
![Создание файла](https://github.com/artemtsybakov/netologyedu/blob/master/Automation_and_CI_CD/7_1/images/7-7.png)
_Используется модуль lineinfile. Добавление строки нутрь созданного файла._ 
```
ansible 158.160.27.90 -u student -m lineinfile -a 'path=/tmp/netology.txt line="I like Linux"'
```
![Добавление строки](https://github.com/artemtsybakov/netologyedu/blob/master/Automation_and_CI_CD/7_1/images/7-8.png)
_Проверка добавления строки на ВМ. Внутри файла появилась строка текста._
![Проверка](https://github.com/artemtsybakov/netologyedu/blob/master/Automation_and_CI_CD/7_1/images/7-9.png)

---
